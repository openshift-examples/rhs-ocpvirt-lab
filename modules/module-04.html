<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Template Management :: Experience Red Hat OpenShift Virtualization</title>
    <link rel="prev" href="module-03.html">
    <link rel="next" href="module-05.html">
    <meta name="generator" content="Antora 3.1.7">
<link rel="stylesheet" href="../_/css/site.css"><link rel="icon" href="../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="https://demo.redhat.com/images/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar"  style="background-color: #131313 !important;">
    <div class="navbar-brand">
      <div style="display: flex; flex-direction:row; padding: 12px 32px; gap: 16px;">
        <img src="https://www.redhat.com/rhdc/managed-files/Red-Hat-Summit-logo.svg" alt="Red Hat Summit logo" width="90px" class="hero-summit-logo dx-block dx-mb-1">
        <img src="https://gpte-public.s3.amazonaws.com/rh-ansiblefest-2021-logo-pool-reverse-rgb_0.svg" alt="AnsibleFest logo" width="auto" class="hero-ansiblefest-logo dx-block dx-mb-2">
      </div>
      <a class="navbar-item site-title" target="__blank" style="color: #fff !important;" href="..">Experience Red Hat OpenShift Virtualization</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
      </div>
    </div>
  </nav>
</header>
    <div class="body">
<div class="nav-container" data-component="modules" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title" style="display: none;"><a href="index.html" class=" query-params-link">Sample Module Title</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-00.html">1. Virtual Machine Management </a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-00.html#create_project">Create a New Project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-00.html#create_vm">Create a Linux Virtual Machine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-00.html#admin_vms">Administering Virtual Machines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-00.html#vm_state">Controlling Virtual Machine State</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-00.html#live_migrate">Live Migrate a Virtual Machine</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-01.html">2. Bare Metal Management </a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#review_nodes">Review Nodes and Machines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#review_hosts">Review Bare Metal Hosts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#scaling_cluster">Scaling the Cluster with a New Bare Metal Host</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-02.html">3. Storage Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-02.html#examine_pvc">Examine the PVC for a VM</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-02.html#managing_snapshots">Managing Snapshots</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-02.html#clone_vm">Clone a Virtual Machine</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-03.html">4. Network Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-03.html#create_netattach">Create a Network Attachment Definition</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-03.html#connect_external_net">Connect a Virtual Machine to an External Network</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-03.html#multinetwork_policy">Using a Multinetwork Policy</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-04.html">5. Template Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#clone_customize_template">Clone and Customize a Template</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#create_win">Create a Windows VM Template</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-05.html">6. Migrating Virtual Machines</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-05.html#prerequisites">Prerequisites for Migrations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-05.html#migrating_vms">Migrating Virtual Machines from VMware</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore" style="display: none;">
  <div class="context">
    <span class="title">Sample Module Title</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Sample Module Title</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="module-04.html">5. Template Management</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Template Management</h1>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pre-configured Red Hat virtual machine templates are listed in the <strong>Virtualization</strong> &#8594; <strong>Templates</strong> page. These templates are available for different versions of Red Hat Enterprise Linux, Fedora, CentOS, Microsoft Windows Desktop, and Microsoft Windows Server editions. Each Red Hat virtual machine template is preconfigured with an operating system image, the default settings for the operating system, the flavor (CPU and memory), and the workload type (server).</p>
</div>
<div class="paragraph">
<p>The <strong>Templates</strong> page displays four types of virtual machine templates:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Red Hat Supported</strong> templates are fully supported by Red Hat.</p>
</li>
<li>
<p><strong>User Supported</strong> templates are <strong>Red Hat Supported</strong> templates that were cloned and created by users.</p>
</li>
<li>
<p><strong>Red Hat Provided</strong> templates have limited support from Red Hat.</p>
</li>
<li>
<p><strong>User Provided</strong> templates are <strong>Red Hat Provided</strong> templates that were cloned and created by users.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clone_customize_template"><a class="anchor" href="#clone_customize_template"></a>Clone and Customize a Template</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default pre-configured templates provided by Red Hat OpenShift Virtualization cannot be customized. However you can clone a template and make adjustments to it for your particular workload in order to make it easier to request specific types of virtual machines for specific workloads. In this section of the lab we are going to do just this, by creating a template that will provide a database server on demand for our end users.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To begin, navigate to <strong>Virtualization</strong> &#8594; <strong>Templates</strong> and select <strong>All projects</strong></p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/01_Template_List.png" target="blank"><img src="_images/module-04/01_Template_List.png" alt="01 Template List" width="100%"></a>
</div>
</div>
</li>
<li>
<p>In the search bar type in <strong>centos9</strong> and in the list of templates that appear find the template for <strong>centos-stream9-server-large</strong>.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/02_Search_Centos9.png" target="blank"><img src="_images/module-04/02_Search_Centos9.png" alt="02 Search Centos9" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Select the three-dot menu to the far right, and click on the option to <strong>Clone</strong> from the menu that pops out.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/03_Clone_Template.png" target="blank"><img src="_images/module-04/03_Clone_Template.png" alt="03 Clone Template" width="100%"></a>
</div>
</div>
</li>
<li>
<p>A new menu called <strong>Clone template</strong> will appear, fill in the the following values, and when finished click on the <strong>Clone</strong> button.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Template name:</strong> centos-stream9-server-db-xl</p>
</li>
<li>
<p><strong>Template project:</strong> vmexamples</p>
</li>
<li>
<p><strong>Template display name:</strong> CentOS Stream 9 VM - Database XL Template</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/04_Clone_Template_Options.png" target="blank"><img src="_images/module-04/04_Clone_Template_Options.png" alt="04 Clone Template Options" width="100%"></a>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>This will take you to the <strong>Details</strong> page for the template where we will be able to customize some options. Start by finding the CPU and Memory near the bottom of the page, and click on the pencil icon to edit it.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/05_Clone_Details.png" target="blank"><img src="_images/module-04/05_Clone_Details.png" alt="05 Clone Details" width="100%"></a>
</div>
</div>
</li>
<li>
<p>A new window will pop out where you can edit the amount of CPU and Memory. For our XL template set the value of CPUs to 4, and Memory to 16 GiB, and click the <strong>Save</strong> button.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/06_Edit_CPU_Mem.png" target="blank"><img src="_images/module-04/06_Edit_CPU_Mem.png" alt="06 Edit CPU Mem" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Navigate to the <strong>Network Interfaces</strong> tab, to the right of the <strong>default</strong> interface, select the three-dot menu and the edit option.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/07_Edit_Network.png" target="blank"><img src="_images/module-04/07_Edit_Network.png" alt="07 Edit Network" width="100%"></a>
</div>
</div>
</li>
<li>
<p>When the <strong>Edit network interface</strong> menu appears, set the <strong>Network</strong> value to the <strong>vmexamples/vlan0</strong> network, and click the <strong>Save</strong> button.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/08_Edit_Net_Int.png" target="blank"><img src="_images/module-04/08_Edit_Net_Int.png" alt="08 Edit Net Int" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Next click on the <strong>Scripts</strong> tab at the top, and in the section called <strong>Cloud-init</strong> click the <strong>Edit</strong> button.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/09_Scripts_CloudInit.png" target="blank"><img src="_images/module-04/09_Scripts_CloudInit.png" alt="09 Scripts CloudInit" width="100%"></a>
</div>
</div>
</li>
<li>
<p>When the <strong>Cloud-init</strong> dialog opens, click the radio button to <strong>Configure via: Script</strong> then add the following YAML snippet to the end of the script.</p>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">  packages:
    - mariadb-server
  runcmd:
    - systemctl enable mariadb
    - systemctl start mariadb</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/10_Cloud_Init_Script.png" target="blank"><img src="_images/module-04/10_Cloud_Init_Script.png" alt="10 Cloud Init Script" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Click the <strong>Save</strong> button, followed by the <strong>Apply</strong> button.</p>
</li>
<li>
<p>Now click on the <strong>Virtualization &#8594; Catalog</strong> menu on the left, select the <strong>Template catalog</strong> option and click on <strong>User templates</strong>. You should see our created template available as a tile.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/11_User_Templates.png" target="blank"><img src="_images/module-04/11_User_Templates.png" alt="11 User Templates" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Click on the tile and you will be prompted with the VM startup screen. Click the <strong>Quick create VirtualMachine</strong> button.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/12_Quick_Create_Template.png" target="blank"><img src="_images/module-04/12_Quick_Create_Template.png" alt="12 Quick Create Template" width="100%"></a>
</div>
</div>
</li>
<li>
<p>When the virtual machine boots you can see on the <strong>Overview</strong> page that it was created from our template, and has the system resources we defined, and is already attached to the <strong>vmexamples/vlan0</strong> network with an assigned IP address.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/13_VM_From_Template.png" target="blank"><img src="_images/module-04/13_VM_From_Template.png" alt="13 VM From Template" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Click on the <strong>Console</strong> tab at the top and use the <strong>Guest login credentials</strong> option to login to the console of the virtual machine.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/14_VM_Console.png" target="blank"><img src="_images/module-04/14_VM_Console.png" alt="14 VM Console" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Once you are logged into the virtual machine, run the following command to test the install of MariaDB.</p>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">sudo mysql -u root</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/15_MariaDB_Login.png" target="blank"><img src="_images/module-04/15_MariaDB_Login.png" alt="15 MariaDB Login" width="100%"></a>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create_win"><a class="anchor" href="#create_win"></a>Create a Windows VM Template</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this segment of our lab, we will install Microsoft Windows Server 2019 using an ISO hosted on a web server. This represents one way to install an operating system to a virtual machine that takes advantage of the ability to source disks from many locations, including a web server, object storage, or other persistent volumes in the cluster.</p>
</div>
<div class="paragraph">
<p>This process can be streamlined after the initial operating system installation by creating a template from the virtual machine. The specific process for preparing the guest operating system to be used as a template will vary, be sure to follow your organization&#8217;s guidelines and requirements when preparing a template OS.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From the left menu, navigate to <strong>Virtualization</strong> &#8594; <strong>Catalog</strong>, and click on the <strong>Template catalog</strong> tab near the top..</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/16_Template_Catalog.png" target="blank"><img src="_images/module-04/16_Template_Catalog.png" alt="16 Template Catalog" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Scroll down until you find the <strong>Microsoft Windows Server 2019 VM</strong> tile.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/17_Windows_2k19_Tile.png" target="blank"><img src="_images/module-04/17_Windows_2k19_Tile.png" alt="17 Windows 2k19 Tile" width="100%"></a>
</div>
</div>
</li>
<li>
<p>A dialog will appear showing the default configuration related to the template.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Notice that there is intially no option to quick create this VM, and we must customize the VM to fit our needs.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/18_Windows_2k19_Dialog.png" target="blank"><img src="_images/module-04/18_Windows_2k19_Dialog.png" alt="18 Windows 2k19 Dialog" width="100%"></a>
</div>
</div>
</li>
<li>
<p>In this dialog:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Specify the name <strong>windows</strong></p>
</li>
<li>
<p>Enable the checkbox <strong>Boot from CD</strong></p>
</li>
<li>
<p>Choose URL <strong>(creates PVC)</strong> from the drop-down menu</p>
</li>
<li>
<p>Specify the url: <a href="http://192.168.123.100:81/Windows2019.iso" class="bare">http://192.168.123.100:81/Windows2019.iso</a></p>
</li>
<li>
<p>Reduce the CD disk size to <strong>5 GiB</strong></p>
</li>
<li>
<p>Keep the <strong>Disk source</strong> size disk to the default value <strong>60 GiB</strong></p>
</li>
<li>
<p>Ensure the <strong>Mount Windows drivers disk</strong> checkbox is enabled. <strong>This is required to install Windows systems, which will provide the drivers for VirtIO.</strong></p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/19_Windows_2k19_Parameters.png" target="blank"><img src="_images/module-04/19_Windows_2k19_Parameters.png" alt="19 Windows 2k19 Parameters" width="100%"></a>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>With the options filled out, we want to click on the <strong>Customize VirtualMachine</strong> button at the bottom to continue configuring our Template.</p>
</li>
<li>
<p>On the <strong>Customize and create VirtualMachine screen, click on the *Scripts</strong> tab, and then scroll down to the <strong>Sysprep</strong> section and click on the <strong>Edit</strong> button.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/20_Customize_Scripts.png" target="blank"><img src="_images/module-04/20_Customize_Scripts.png" alt="20 Customize Scripts" width="100%"></a>
</div>
</div>
</li>
<li>
<p>A new window will pop up for you to create <strong>Sysprep</strong> actions for your new template.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/21_Sysprep.png" target="blank"><img src="_images/module-04/21_Sysprep.png" alt="21 Sysprep" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Copy and paste the following code block into the <strong>autounattend.xml</strong> section:</p>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;unattend xmlns="urn:schemas-microsoft-com:unattend" xmlns:wcm="http://schemas.microsoft.com/WMIConfig/2002/State" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:schemas-microsoft-com:unattend"&gt;
  &lt;settings pass="windowsPE"&gt;
    &lt;component name="Microsoft-Windows-Setup" processorArchitecture="amd64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS"&gt;
      &lt;DiskConfiguration&gt;
        &lt;Disk wcm:action="add"&gt;
          &lt;CreatePartitions&gt;
            &lt;CreatePartition wcm:action="add"&gt;
              &lt;Order&gt;1&lt;/Order&gt;
              &lt;Extend&gt;true&lt;/Extend&gt;
              &lt;Type&gt;Primary&lt;/Type&gt;
            &lt;/CreatePartition&gt;
          &lt;/CreatePartitions&gt;
          &lt;ModifyPartitions&gt;
            &lt;ModifyPartition wcm:action="add"&gt;
              &lt;Active&gt;true&lt;/Active&gt;
              &lt;Format&gt;NTFS&lt;/Format&gt;
              &lt;Label&gt;System&lt;/Label&gt;
              &lt;Order&gt;1&lt;/Order&gt;
              &lt;PartitionID&gt;1&lt;/PartitionID&gt;
            &lt;/ModifyPartition&gt;
          &lt;/ModifyPartitions&gt;
          &lt;DiskID&gt;0&lt;/DiskID&gt;
          &lt;WillWipeDisk&gt;true&lt;/WillWipeDisk&gt;
        &lt;/Disk&gt;
      &lt;/DiskConfiguration&gt;
      &lt;ImageInstall&gt;
        &lt;OSImage&gt;
          &lt;InstallFrom&gt;
            &lt;MetaData wcm:action="add"&gt;
              &lt;Key&gt;/IMAGE/NAME&lt;/Key&gt;
              &lt;Value&gt;Windows Server 2019 SERVERSTANDARD&lt;/Value&gt;
            &lt;/MetaData&gt;
          &lt;/InstallFrom&gt;
          &lt;InstallTo&gt;
            &lt;DiskID&gt;0&lt;/DiskID&gt;
            &lt;PartitionID&gt;1&lt;/PartitionID&gt;
          &lt;/InstallTo&gt;
        &lt;/OSImage&gt;
      &lt;/ImageInstall&gt;
      &lt;UserData&gt;
        &lt;AcceptEula&gt;true&lt;/AcceptEula&gt;
        &lt;FullName&gt;Administrator&lt;/FullName&gt;
        &lt;Organization&gt;My Organization&lt;/Organization&gt;
      &lt;/UserData&gt;
      &lt;EnableFirewall&gt;false&lt;/EnableFirewall&gt;
    &lt;/component&gt;
    &lt;component name="Microsoft-Windows-International-Core-WinPE" processorArchitecture="amd64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS"&gt;
      &lt;SetupUILanguage&gt;
        &lt;UILanguage&gt;en-US&lt;/UILanguage&gt;
      &lt;/SetupUILanguage&gt;
      &lt;InputLocale&gt;en-US&lt;/InputLocale&gt;
      &lt;SystemLocale&gt;en-US&lt;/SystemLocale&gt;
      &lt;UILanguage&gt;en-US&lt;/UILanguage&gt;
      &lt;UserLocale&gt;en-US&lt;/UserLocale&gt;
    &lt;/component&gt;
  &lt;/settings&gt;
  &lt;settings pass="offlineServicing"&gt;
    &lt;component name="Microsoft-Windows-LUA-Settings" processorArchitecture="amd64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS"&gt;
      &lt;EnableLUA&gt;false&lt;/EnableLUA&gt;
    &lt;/component&gt;
  &lt;/settings&gt;
  &lt;settings pass="specialize"&gt;
    &lt;component name="Microsoft-Windows-Shell-Setup" processorArchitecture="amd64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS"&gt;
      &lt;AutoLogon&gt;
        &lt;Password&gt;
          &lt;Value&gt;R3dh4t1!&lt;/Value&gt;
          &lt;PlainText&gt;true&lt;/PlainText&gt;
        &lt;/Password&gt;
        &lt;Enabled&gt;true&lt;/Enabled&gt;
        &lt;LogonCount&gt;999&lt;/LogonCount&gt;
        &lt;Username&gt;Administrator&lt;/Username&gt;
      &lt;/AutoLogon&gt;
      &lt;OOBE&gt;
        &lt;HideEULAPage&gt;true&lt;/HideEULAPage&gt;
        &lt;HideLocalAccountScreen&gt;true&lt;/HideLocalAccountScreen&gt;
        &lt;HideOnlineAccountScreens&gt;true&lt;/HideOnlineAccountScreens&gt;
        &lt;HideWirelessSetupInOOBE&gt;true&lt;/HideWirelessSetupInOOBE&gt;
        &lt;NetworkLocation&gt;Work&lt;/NetworkLocation&gt;
        &lt;ProtectYourPC&gt;3&lt;/ProtectYourPC&gt;
        &lt;SkipMachineOOBE&gt;true&lt;/SkipMachineOOBE&gt;
      &lt;/OOBE&gt;
      &lt;UserAccounts&gt;
        &lt;LocalAccounts&gt;
          &lt;LocalAccount wcm:action="add"&gt;
            &lt;Description&gt;Local Administrator Account&lt;/Description&gt;
            &lt;DisplayName&gt;Administrator&lt;/DisplayName&gt;
            &lt;Group&gt;Administrators&lt;/Group&gt;
            &lt;Name&gt;Administrator&lt;/Name&gt;
          &lt;/LocalAccount&gt;
        &lt;/LocalAccounts&gt;
      &lt;/UserAccounts&gt;
      &lt;TimeZone&gt;Eastern Standard Time&lt;/TimeZone&gt;
    &lt;/component&gt;
  &lt;/settings&gt;
  &lt;settings pass="oobeSystem"&gt;
    &lt;component name="Microsoft-Windows-International-Core" processorArchitecture="amd64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS"&gt;
      &lt;InputLocale&gt;en-US&lt;/InputLocale&gt;
      &lt;SystemLocale&gt;en-US&lt;/SystemLocale&gt;
      &lt;UILanguage&gt;en-US&lt;/UILanguage&gt;
      &lt;UserLocale&gt;en-US&lt;/UserLocale&gt;
    &lt;/component&gt;
    &lt;component name="Microsoft-Windows-Shell-Setup" processorArchitecture="amd64" publicKeyToken="31bf3856ad364e35" language="neutral" versionScope="nonSxS"&gt;
      &lt;AutoLogon&gt;
        &lt;Password&gt;
          &lt;Value&gt;R3dh4t1!&lt;/Value&gt;
          &lt;PlainText&gt;true&lt;/PlainText&gt;
        &lt;/Password&gt;
        &lt;Enabled&gt;true&lt;/Enabled&gt;
        &lt;LogonCount&gt;999&lt;/LogonCount&gt;
        &lt;Username&gt;Administrator&lt;/Username&gt;
      &lt;/AutoLogon&gt;
      &lt;OOBE&gt;
        &lt;HideEULAPage&gt;true&lt;/HideEULAPage&gt;
        &lt;HideLocalAccountScreen&gt;true&lt;/HideLocalAccountScreen&gt;
        &lt;HideOnlineAccountScreens&gt;true&lt;/HideOnlineAccountScreens&gt;
        &lt;HideWirelessSetupInOOBE&gt;true&lt;/HideWirelessSetupInOOBE&gt;
        &lt;NetworkLocation&gt;Work&lt;/NetworkLocation&gt;
        &lt;ProtectYourPC&gt;3&lt;/ProtectYourPC&gt;
        &lt;SkipMachineOOBE&gt;true&lt;/SkipMachineOOBE&gt;
      &lt;/OOBE&gt;
      &lt;UserAccounts&gt;
        &lt;LocalAccounts&gt;
          &lt;LocalAccount wcm:action="add"&gt;
            &lt;Description&gt;Local Administrator Account&lt;/Description&gt;
            &lt;DisplayName&gt;Administrator&lt;/DisplayName&gt;
            &lt;Group&gt;Administrators&lt;/Group&gt;
            &lt;Name&gt;Administrator&lt;/Name&gt;
          &lt;/LocalAccount&gt;
        &lt;/LocalAccounts&gt;
      &lt;/UserAccounts&gt;
      &lt;TimeZone&gt;Eastern Standard Time&lt;/TimeZone&gt;
    &lt;/component&gt;
  &lt;/settings&gt;
&lt;/unattend&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Once the code is pasted, click the <strong>Save</strong> button on the dialog.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/22_Windows_2k19_Sysprep.png" target="blank"><img src="_images/module-04/22_Windows_2k19_Sysprep.png" alt="22 Windows 2k19 Sysprep" width="100%"></a>
</div>
</div>
</li>
<li>
<p>You will be returned to the <strong>Customize and create Virtual Machine</strong> screen, Click on the <strong>Disks</strong> tab, and locate the line for the <strong>installation-CDROM</strong>, click the three-dot menu on the right, and select <strong>Edit</strong>.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/23_Edit_Boot_Media.png" target="blank"><img src="_images/module-04/23_Edit_Boot_Media.png" alt="23 Edit Boot Media" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Select the option for <strong>Use this disk as a boot source</strong>, and click on the <strong>Save</strong> button at the bottom.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/24_Boot_Source.png" target="blank"><img src="_images/module-04/24_Boot_Source.png" alt="24 Boot Source" width="100%"></a>
</div>
</div>
</li>
<li>
<p>When you return to the <strong>Disks</strong> tab, click on the <strong>Create VirtualMachine</strong> button at the bottom.</p>
</li>
<li>
<p>The Virtual Machine will start the provisioning process by downloading the ISO image, configuring, and starting the instance.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/25_Windows_2k19_Provisioning.png" target="blank"><img src="_images/module-04/25_Windows_2k19_Provisioning.png" alt="25 Windows 2k19 Provisioning" width="100%"></a>
</div>
</div>
</li>
<li>
<p>After a few minutes, the Virtual VM will be in <strong>Running</strong> status. Switch to the <strong>Console</strong> tab:</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/26_Windows_2k19_Console.png" target="blank"><img src="_images/module-04/26_Windows_2k19_Console.png" alt="26 Windows 2k19 Console" width="100%"></a>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The VM is marked as "Not migratable" because a CD-ROM disk is attached.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Once the VM installation process is complete, go ahead and power it off with the stop button. We can now take a snapshot of the root disk, and use that to create a bootable volume template that we can use to boot other Windows 2k19 machines.</p>
</li>
<li>
<p>Click on <strong>Storage</strong> &#8594; <strong>PersistentVolumeClaims</strong> to see a list of PVCs available in the vmexamples namespace.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/27_Windows_PVC.png" target="blank"><img src="_images/module-04/27_Windows_PVC.png" alt="27 Windows PVC" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Find the <strong>windows</strong> PVC that is listed and using the three-dot menu on the right select <strong>Clone PVC</strong>. On the menu that pops up, name the new PVC <strong>windows-2k19-template</strong>.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/28_Clone_Windows_PVC.png" target="blank"><img src="_images/module-04/28_Clone_Windows_PVC.png" alt="28 Clone Windows PVC" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Once this is saved, you can return to the <strong>Virtualization &#8594; Catalog</strong> menu, and use this cloned PVC as a future boot source for creating new Virtual Machines by selecting the option for <strong>PVC (clone PVC)</strong> as the <strong>Disk source</strong>, and selecting the <strong>Windows-2k19-Template</strong> PVC as the <strong>PVC name</strong> to clone.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-04/29_Windows_Template.png" target="blank"><img src="_images/module-04/29_Windows_Template.png" alt="29 Windows Template" width="100%"></a>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary"><a class="anchor" href="#_summary"></a>Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section we learned how to clone and customize and existing template to create one that can be used for specific workloads like databases. We also learned how to configure one of the existing Windows templates that exists without a boot source, and automate it&#8217;s installation process, so we can create future templates by cloning the installation PVC that is created with that VM.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="module-03.html" class="query-params-link">4. Network Management</a></span>
  <span class="next"><a href="module-05.html" class="query-params-link">6. Migrating Virtual Machines</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a href="https://demo.redhat.com" target="_blank" class="poweredBy"><p>Powered by</p><div class="labInfo_poweredBy" style="display: block; width: 260px;"><svg class="labInfo_poweredByLogo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1508.5 178.739"><g fill="#111"><path d="M316.6 63.2v-56H342a21.279 21.279 0 0 1 7.8 1.3 18.111 18.111 0 0 1 5.9 3.5 15.577 15.577 0 0 1 5 11.8 15.051 15.051 0 0 1-3.1 9.5 16.836 16.836 0 0 1-8.4 5.8l12.5 24.1h-9.3l-11.6-23H325v23Zm24.7-48.6H325v18.7h16.3q5.25 0 8.1-2.7a8.7 8.7 0 0 0 2.8-6.6 8.7 8.7 0 0 0-2.8-6.6c-1.8-1.9-4.5-2.8-8.1-2.8ZM364.1 42.8a20.674 20.674 0 0 1 1.6-8.2 20.288 20.288 0 0 1 4.3-6.7 19.92 19.92 0 0 1 6.5-4.5 19.718 19.718 0 0 1 8-1.6 18.463 18.463 0 0 1 7.8 1.6 18.677 18.677 0 0 1 6.2 4.5 20.927 20.927 0 0 1 4.1 6.8 23.2 23.2 0 0 1 1.5 8.4v2.3H372a13.822 13.822 0 0 0 4.6 8.4 13.6 13.6 0 0 0 9.1 3.3 15.553 15.553 0 0 0 5.7-1 12.858 12.858 0 0 0 4.6-2.6l5.1 5a25.983 25.983 0 0 1-7.4 4.1 24.69 24.69 0 0 1-8.4 1.3 21.306 21.306 0 0 1-8.4-1.6 22.763 22.763 0 0 1-6.8-4.4 20.788 20.788 0 0 1-4.5-6.7 23.2 23.2 0 0 1-1.5-8.4Zm20.2-14.2a11.527 11.527 0 0 0-8 3 13.046 13.046 0 0 0-4.2 7.8h24.2a13.091 13.091 0 0 0-4.2-7.8 11.106 11.106 0 0 0-7.8-3ZM443.1 63.2v-3.8a19.448 19.448 0 0 1-5.8 3.3 18.924 18.924 0 0 1-6.7 1.2 19.824 19.824 0 0 1-14.6-6.1 22.268 22.268 0 0 1-4.4-6.7 21.812 21.812 0 0 1 0-16.4A20.534 20.534 0 0 1 416 28a19.335 19.335 0 0 1 6.6-4.5 20.334 20.334 0 0 1 8.2-1.6 20.7 20.7 0 0 1 6.6 1 19.415 19.415 0 0 1 5.7 3V7.2l8-1.8v57.8Zm-25.2-20.4a13.718 13.718 0 0 0 4 10.1 13.45 13.45 0 0 0 9.8 4.1 14.956 14.956 0 0 0 6.4-1.3 15.954 15.954 0 0 0 4.9-3.6V33.6a14.988 14.988 0 0 0-4.9-3.5 15.271 15.271 0 0 0-6.4-1.3 13.423 13.423 0 0 0-9.9 4 13.806 13.806 0 0 0-3.9 10ZM478.1 63.2v-56h8.4v24h29.8v-24h8.4v56h-8.4V38.8h-29.8v24.4ZM547.2 64a16.483 16.483 0 0 1-10.8-3.5 11.037 11.037 0 0 1-4.2-8.9 10.375 10.375 0 0 1 4.7-9.2 20.76 20.76 0 0 1 11.8-3.2 27.841 27.841 0 0 1 5.8.6 27.374 27.374 0 0 1 5.3 1.6v-4.3a8.143 8.143 0 0 0-2.6-6.5 11.452 11.452 0 0 0-7.4-2.2 20.788 20.788 0 0 0-6 .9 34.616 34.616 0 0 0-6.6 2.6l-3-6a54.169 54.169 0 0 1 8.4-3.1 33.18 33.18 0 0 1 8.3-1.1c5.2 0 9.3 1.3 12.2 3.8s4.4 6.1 4.4 10.8v27h-7.8v-3.5a19.441 19.441 0 0 1-5.8 3.2 23.54 23.54 0 0 1-6.7 1Zm-7.3-12.6a5.646 5.646 0 0 0 2.6 4.8 11.193 11.193 0 0 0 6.6 1.8 16.256 16.256 0 0 0 5.9-1 14.449 14.449 0 0 0 4.9-2.9V47a19.778 19.778 0 0 0-4.8-1.8 24.933 24.933 0 0 0-5.7-.6 11.859 11.859 0 0 0-6.8 1.8 5.728 5.728 0 0 0-2.7 5ZM580.6 53.2v-24H572v-6.7h8.6V12.1l7.9-1.9v12.3h12v6.7h-12v22.1a5.94 5.94 0 0 0 1.4 4.4c.9.9 2.5 1.3 4.6 1.3a23.637 23.637 0 0 0 3-.2 10.857 10.857 0 0 0 2.8-.8v6.7a19.28 19.28 0 0 1-3.8.9 27.484 27.484 0 0 1-3.8.3c-3.9 0-7-.9-9-2.8-2-1.7-3.1-4.4-3.1-7.9Z"></path></g><path d="M127 90.2c12.5 0 30.6-2.6 30.6-17.5a12.678 12.678 0 0 0-.3-3.4L149.8 37c-1.7-7.1-3.2-10.3-15.7-16.6-9.7-5-30.8-13.1-37.1-13.1-5.8 0-7.5 7.5-14.4 7.5-6.7 0-11.6-5.6-17.9-5.6-6 0-9.9 4.1-12.9 12.5 0 0-8.4 23.7-9.5 27.2a4.216 4.216 0 0 0-.3 1.9c0 9.2 36.3 39.4 85 39.4Zm32.5-11.4c1.7 8.2 1.7 9.1 1.7 10.1 0 14-15.7 21.8-36.4 21.8-46.8 0-87.7-27.4-87.7-45.5a17.535 17.535 0 0 1 1.5-7.3C21.8 58.8 0 61.8 0 81c0 31.5 74.6 70.3 133.7 70.3 45.3 0 56.7-20.5 56.7-36.6-.1-12.8-11-27.3-30.9-35.9Z" fill="#e00"></path><path d="M159.5 78.8c1.7 8.2 1.7 9.1 1.7 10.1 0 14-15.7 21.8-36.4 21.8-46.8 0-87.7-27.4-87.7-45.5a17.535 17.535 0 0 1 1.5-7.3l3.7-9.1a4.877 4.877 0 0 0-.3 2c0 9.2 36.3 39.4 85 39.4 12.5 0 30.6-2.6 30.6-17.5a12.678 12.678 0 0 0-.3-3.4Z"></path><path d="M253.5 158.7a2.22 2.22 0 0 1-2.2-2.2V2.2a2.2 2.2 0 0 1 4.4 0v154.2a2.242 2.242 0 0 1-2.2 2.3Z" fill="#111"></path><text data-name="Demo Platform" transform="translate(1186 149)" fill="#111" font-size="82" font-family="'RedHatDisplay', 'Overpass', overpass, helvetica, arial, sans-serif" font-weight="700"><tspan x="-877.892" y="0">Demo Platform</tspan></text></svg></div></a>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
